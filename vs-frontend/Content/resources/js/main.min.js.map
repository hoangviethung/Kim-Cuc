{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/lib/CartController.js","src/js/lib/Cookie.js","src/js/lib/Loading.js","src/js/lib/Tab.js","src/js/main.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","CartController","model","isDelay","init","$","addCart","upQuantity","downQuantity","couponCode","goToPayment","quantityInput","removeItemCart","off","on","events","addToCart","applyCouponCode","changeQuantityProductInCart","removeFromCart","click","getCity","getDistrict","preventDefault","url","this","attr","dataId","quantity","val","propertyId","ajax","type","contentType","data","JSON","stringify","pId","Number","cache","success","res","Code","text","Result","ItemsCount","alert","Message","failure","errMsg","input_val","parents","find","current_val","parseInt","new_val","isNumeric","productId","urlUpdate","updateToCart","setTimeout","delayClick","valCouponCode","discountAmount","actualAmountTotal","tempPrice","totalTamTinh","totalAmount","itemRemove","quantityProduct","remove","console","log","urlPagePaymen","urlPageCart","window","location","href","headerQuantityProduct","headerActualAmountTotal","html","response","AfterDiscount","id","contenttype","beforeSend","children","append","each","item","Value","Text","Selected","trigger","errmsg","cityId","prop","document","ready","param","getInfoFromUrl","Social","SocialId","urlString","URL","Source","searchParams","get","Medium","Campaign","Term","UTMContent","fbclid","gclid","name","nameEQ","ca","cookie","split","charAt","substring","indexOf","getCookie","value","days","expires","date","Date","setTime","getTime","toUTCString","setCookie","btoa","Promise","resolve","reject","loading","getElementById","progress","progressStat","images","imagesLength","counter","turnOffLoadingScreen","style","opacity","display","parentNode","removeChild","querySelector","classList","add","progressing","Math","round","width","concat","innerHTML","img","Image","onload","onerror","src","Tab","selector","obj","_classCallCheck","_defineProperty","navigationItems","Array","from","querySelectorAll","contentList","key","_this","forEach","element","index","addEventListener","tabTarget","attributes","targetDOM","eleClicked","eleClickedIndex","tabContentElement","error","changeTabWhenClicked","activeFirstTab","_interopRequireDefault","_Loading","_Tab","_CartController","header","transitionEffect","transitionTime","transition","css","activeHeaderWhenScroll","heightHeader","widthBlockCart","navList","height","hasClass","left","border-right","border-top","outerWidth","offsetHeight","pageYOffset","setHeightOverFolowBySomeElement","heightGet","innerHeight","heightSet","responsive","innerWidth","thumbnail","then","WOW","mainSlider","normalSLider","outerHeight","checkLayoutBanner","toggleClass","removeClass","siblings","Swiper","loop","speed","autoplay","delay","disableOnInteraction","grabCursor","watchSlidesProgress","mousewheelControl","keyboardControl","pagination","el","clickable","slides","innerTranslate","transform","touchStart","setTransition","spaceBetween","slidesPerView","observer","observeParents","slideToClickedSlide","navigation","nextEl","prevEl","breakpoints","1024","1200","effect","fadeEffect","crossFade","simulateTouch","loopedSlides","thumbs","swiper","768","575","900","1440","min_price","max_price","pathname","origin","getBrand","brand","checked","getUrl","min","max","brandParam","fromParam","toParam","ajaxFilterProduct","pointer-events","listProduct","complete","history","pushState","minFinal","maxFinal","urlRequest","curMinPrice","curMaxPrice","slider","range","values","slide","event","ui","stop","create","rangeSliderPrice","toggleView","toggleId","slideToggle","not","slideUp","phone","email","content","valid","fullname","province","district","ward","address","defaultAddress","fancybox","open","opts","hash","closeExisting","addClass"],"mappings":"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","file":"main.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿module.exports = () => {\r\n\tvar CartController = CartController || {};\r\n\r\n\tCartController = {\r\n\t\tmodel: {\r\n\t\t\t// This flag for set time out in case User change(plus and minus quantity) product's quantity in Cart Index\r\n\t\t\tisDelay: false,\r\n\t\t},\r\n\t\tinit: function() {\r\n\t\t\tconst bodySectionCartPage = $('.cart-list-page');\r\n\t\t\t// NÚT THÊM VÀO GIỎ HÀNG\r\n\t\t\tconst addCart = $('.add-cart');\r\n\t\t\t// NÚT THÊM SỐ LƯỢNG SẢN PHẨM +1\r\n\t\t\tconst upQuantity = $('.upQuantity');\r\n\t\t\t// NÚT GIẢM SỐ LƯỢNG SẢN PHẨM -1\r\n\t\t\tconst downQuantity = $('.downQuantity');\r\n\t\t\t// NÚT NHẤN ÁP DỤNG MÃ GIẢM GIÁ\r\n\t\t\tconst couponCode = $('#applyCouponCode');\r\n\t\t\t// NÚT ĐI ĐẾN TRANG THANH TOÁN\r\n\t\t\tconst goToPayment = $(\"#goToPayment\");\r\n\t\t\t// BLOCK SỐ LƯỢNG SẢN PHẨM\r\n\t\t\tconst quantityInput = $(\".quantity-input\");\r\n\t\t\t// NÚT XÓA 1 SẢN PHẢM KHỎI GIỎ HÀNG\r\n\t\t\tconst removeItemCart = $('.remove-cart');\r\n\r\n\t\t\t// THÊM VÀO GIỎ HÀNG\r\n\t\t\taddCart.off('click').on('click', CartController.events.addToCart);\r\n\t\t\t// TĂNG SỐ LƯỢNG SẲN PHẨM\r\n\t\t\tupQuantity.on('click', CartController.events.upQuantity);\r\n\t\t\t// GIẢM SÓ LƯỢNG SẢN PHẨM\r\n\t\t\tdownQuantity.on('click', CartController.events.downQuantity);\r\n\t\t\t// MÃ GIẢM GIÁ\r\n\t\t\tcouponCode.on('click', CartController.events.applyCouponCode);\r\n\t\t\t// THAY ĐỔI SỐ LƯỢNG SẢN PHẨM TRONG TRANG GIỎ HÀNG\r\n\t\t\tquantityInput.on('keyup', '.quantity-cart', CartController.events.changeQuantityProductInCart);\r\n\t\t\t// XÓA SẢN PHẨM KHỎI GIỎ HÀNG\r\n\t\t\tremoveItemCart.on('click', CartController.events.removeFromCart);\r\n\t\t\t// ĐẾN TRANG THANH TOÁN (TÙY DỰ ÁN)\r\n\t\t\tgoToPayment.off('click').on('click', CartController.events.goToPayment);\r\n\r\n\r\n\t\t\t// PHẦN THANH TOÁN (CHƯA LÀM ĐẾN)\r\n\t\t\t$(\".add-new-address\").click(CartController.events.getCity);\r\n\t\t\t$(\".js-btn-edit-address\").click(CartController.events.getCity);\r\n\t\t\t$(\"#ShippingCitySelectedValue\").on('change', CartController.events.getDistrict);\r\n\t\t},\r\n\t\tevents: {\r\n\t\t\t// THÊM VÀO GIỎ HÀNG\r\n\t\t\taddToCart: function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t// URL\r\n\t\t\t\tconst url = $(this).attr('data-url');\r\n\t\t\t\t// MÃ SẢN PHẨM\r\n\t\t\t\tconst dataId = $(this).attr(\"data-pid\");\r\n\t\t\t\t// SỐ LƯỢNG\r\n\t\t\t\tconst quantity = $(\"input[name='quantity']\").val();\r\n\t\t\t\t// THUỘC TÍNH\r\n\t\t\t\tconst propertyId = $(this).attr(\"data-propertyid\");\r\n\t\t\t\t// SỐ TRÊN GIỎ HÀNG THANH MENU\r\n\t\t\t\tconst headerCartNumber = ('#header-cart-number');\r\n\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tcontentType: \"application/json; charset=utf-8\",\r\n\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\tpId: Number(dataId),\r\n\t\t\t\t\t\tquantity: Number(quantity),\r\n\t\t\t\t\t\tpropertyId: Number(propertyId)\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tcache: false,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.Code == 200) {\r\n\t\t\t\t\t\t\t// TRUYỂN KẾT QUẢ VÀO SỐ LƯỢNG GIỎ HÀNG TRÊN THANH MENU\r\n\t\t\t\t\t\t\theaderCartNumber.text(res.Result.ItemsCount);\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\talert(res.Message);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfailure: function(errMsg) {\r\n\t\t\t\t\t\talert(errMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t// TĂNG SỐ LƯỢNG SẲN PHẨM\r\n\t\t\tupQuantity: function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (CartController.model.isDelay == false) {\r\n\t\t\t\t\tCartController.model.isDelay == true;\r\n\t\t\t\t\t// Disable button for executing request to server\r\n\t\t\t\t\t$(this).attr(\"disabled\", \"disabled\");\r\n\t\t\t\t\t// INPUT SỐ LƯỢNG SẢN PHẨM\r\n\t\t\t\t\tconst input_val = $(this).parents('.quantity-input').find('.quantity-cart[name=\"quantity\"]');\r\n\t\t\t\t\t// LẤY GIÁ TRỊ CŨ CỦA INPUT\r\n\t\t\t\t\tlet current_val = parseInt(input_val.val());\r\n\t\t\t\t\t// GIÁ TRỊ MỚI\r\n\t\t\t\t\tlet new_val = ++current_val;\r\n\t\t\t\t\t// ĐIỀU KIỆN SỐ LƯỢNG\r\n\t\t\t\t\tif ($.isNumeric(current_val) && current_val > 0) {\r\n\t\t\t\t\t\t// THÕA MÃN THÌ +1\r\n\t\t\t\t\t\tnew_val\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// KHÔNG THÕA MÃN THÌ TRỞ VỀ MẶC ĐỊNH 1\r\n\t\t\t\t\t\tnew_val = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// MÃ SẢN PHẨM\r\n\t\t\t\t\tconst productId = $(this).attr(\"data-pid\");\r\n\t\t\t\t\t// THUỘC TÍNH SẢN PHẨM\r\n\t\t\t\t\tconst propertyId = $(this).attr(\"data-propertyid\");\r\n\t\t\t\t\t// ĐỊA CHỈ URL UPDATE\r\n\t\t\t\t\tconst urlUpdate = $(this).attr('data-url-update');\r\n\t\t\t\t\t// TRUYỀN SÓ LƯỢNG SẢN PHẨM VÀO INPUT\r\n\t\t\t\t\tinput_val.val(new_val);\r\n\t\t\t\t\t// GỌI HÀM UPDATE GIỎ HÀNG TRUYỀN 4 THÔNG SỐ VÀO (MÃ SẢN PHẨM, THUỘC TÍNH, SỐ LƯỢNG, ĐỊA CHỈ URL UPDATE)\r\n\t\t\t\t\tCartController.events.updateToCart(productId, propertyId, new_val, urlUpdate);\r\n\t\t\t\t\t// CÀI ĐẶT THỜI GIAN RESQUEST LÊN SEVER\r\n\t\t\t\t\tlet time = 300;\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tCartController.events.delayClick();\r\n\t\t\t\t\t}, time);\r\n\t\t\t\t\tCartController.model.isDelay == false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t// GIẢM SỐ LƯỢNG SẢN PHẨM\r\n\t\t\tdownQuantity: function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tif (CartController.model.isDelay == false) {\r\n\t\t\t\t\tCartController.model.isDelay == true;\r\n\t\t\t\t\t// INPUT SỐ LƯỢNG SẢN PHẨM\r\n\t\t\t\t\tconst input_val = $(this).parents('.quantity-input').find('.quantity-cart[name=\"quantity\"]');\r\n\t\t\t\t\t// LẤY GIÁ TRỊ CŨ CỦA INPUT\r\n\t\t\t\t\tlet current_val = parseInt(input_val.val());\r\n\t\t\t\t\t// GIÁ TRỊ MỚI\r\n\t\t\t\t\tlet new_val = --current_val;\r\n\t\t\t\t\t// ĐIỀU KIỆN SỐ LƯỢNG\r\n\t\t\t\t\tif ($.isNumeric(current_val) && current_val > 0) {\r\n\t\t\t\t\t\t// THÕA MÃN THÌ -1\r\n\t\t\t\t\t\tnew_val\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// KHÔNG THÕA MÃN THÌ TRỞ VỀ MẶC ĐỊNH 1\r\n\t\t\t\t\t\tnew_val = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// MÃ SẢN PHẨM\r\n\t\t\t\t\tconst productId = $(this).attr(\"data-pid\");\r\n\t\t\t\t\t// THUỘC TÍNH SẢN PHẨM\r\n\t\t\t\t\tconst propertyId = $(this).attr(\"data-propertyid\");\r\n\t\t\t\t\t// TRUYỀN SÓ LƯỢNG SẢN PHẨM VÀO INPUT\r\n\t\t\t\t\tinput_val.val(new_val);\r\n\t\t\t\t\t// ĐỊA CHỈ URL UPDATE\r\n\t\t\t\t\tconst urlUpdate = $(this).attr('data-url-update');\r\n\t\t\t\t\t// GỌI HÀM UPDATE GIỎ HÀNG TRUYỀN 4 THÔNG SỐ VÀO (MÃ SẢN PHẨM, THUỘC TÍNH, SỐ LƯỢNG, ĐỊA CHỈ URL UPDATE)\r\n\t\t\t\t\tCartController.events.updateToCart(productId, propertyId, new_val, urlUpdate);\r\n\t\t\t\t\t// CÀI ĐẶT THỜI GIAN RESQUEST LÊN SEVER\r\n\t\t\t\t\tlet time = 300;\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tCartController.events.delayClick();\r\n\t\t\t\t\t}, time);\r\n\t\t\t\t\tCartController.model.isDelay == false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t// NHẬP MÃ GIẢM GIÁ\r\n\t\t\tapplyCouponCode: function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t// Get coupon code\r\n\t\t\t\tconst url = $(this).attr('data-url');\r\n\t\t\t\t// MÃ GIẢM GIÁ\r\n\t\t\t\tconst valCouponCode = $('#couponCode').val();\r\n\t\t\t\t// SỐ TIỀN ĐƯỢC GIẢM\r\n\t\t\t\tconst discountAmount = $('#discount_amount');\r\n\t\t\t\t// TỐNG SỐ TIỀN CẦN THANH TOÁN (TIỀN CUỐI CÙNG)\r\n\t\t\t\tconst actualAmountTotal = $('#actual_amount_total');\r\n\t\t\t\t// GIÁ TIỀN TÍNH TẠM\r\n\t\t\t\tconst tempPrice = $('#temp_price');\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tcontentType: \"application/json; charset=utf-8\",\r\n\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\tvalCouponCode: valCouponCode\r\n\t\t\t\t\t}),\r\n\t\t\t\t\tcache: false,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.Code == 200) {\r\n\t\t\t\t\t\t\t// SỐ TIỀN ĐƯỢC GIẢM\r\n\t\t\t\t\t\t\tdiscountAmount.text(res.Result.discountAmount);\r\n\t\t\t\t\t\t\t// GIÁ TIỀN TÍNH TẠM\r\n\t\t\t\t\t\t\ttempPrice.text(res.Result.totalTamTinh);\r\n\t\t\t\t\t\t\t// TỐNG SỐ TIỀN CẦN THANH TOÁN (TIỀN CUỐI CÙNG)\r\n\t\t\t\t\t\t\tactualAmountTotal.text(res.Result.totalAmount);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\talert(res.Message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfailure: function(errMsg) {\r\n\t\t\t\t\t\talert(errMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t// THAY ĐỔI SỐ LƯỢNG SẢN PHẨM TRONG TRANG GIỎ HÀNG\r\n\t\t\tchangeQuantityProductInCart: function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst input_val = $(this);\r\n\t\t\t\tlet current_val = parseInt(input_val.val());\r\n\t\t\t\tif ($.isNumeric(input_val.val()) && current_val > 0) {\r\n\t\t\t\t\tif (current_val > 500) {\r\n\t\t\t\t\t\tcurrent_val = 500;\r\n\t\t\t\t\t\tinput_val.val(current_val);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcurrent_val = 1;\r\n\t\t\t\t\tinput_val.val(current_val);\r\n\t\t\t\t}\r\n\t\t\t\tconst productId = $(this).attr(\"data-pid\");\r\n\t\t\t\tconst propertyId = $(this).attr(\"data-propertyid\");\r\n\t\t\t\tCartController.events.updateToCart(productId, propertyId, current_val);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t// XÓA SẢN PHẨM KHỎI GIỎ HÀNG\r\n\t\t\tremoveFromCart: function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst url = $(this).attr('data-url');\r\n\t\t\t\tconst productId = $(this).attr(\"data-pid\");\r\n\t\t\t\tconst propertyId = $(this).attr(\"data-propertyid\");\r\n\t\t\t\tconst itemRemove = $(this).parents('.cart-item');\r\n\t\t\t\tconst headerCartNumber = ('#header-cart-number');\r\n\t\t\t\tconst quantityProduct = $(\"#quantity-product\");\r\n\t\t\t\t// Check product's id is number\r\n\t\t\t\tif (productId != '' && $.isNumeric(productId) &&\r\n\t\t\t\t\tpropertyId != '' && $.isNumeric(propertyId)) {\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl: url,\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\tcontentType: \"application/json; charset=utf-8\",\r\n\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\tpId: Number(productId),\r\n\t\t\t\t\t\t\tpropertyId: Number(propertyId)\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tcache: false,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.Code == 200) {\r\n\t\t\t\t\t\t\t\t// SỐ LƯỢNG GIỎ HÀNG TRONG MENU\r\n\t\t\t\t\t\t\t\theaderCartNumber.text(res.Result.ItemsCount);\r\n\t\t\t\t\t\t\t\t// SỐ LƯỢNG SẢN PHẨM Ở TRANG GIỎ HÀNG\r\n\t\t\t\t\t\t\t\tquantityProduct.text(res.Result.ItemsCount + \" \");\r\n\t\t\t\t\t\t\t\t// XÓA SẢN PHẨM ĐƯỢC CLICK VÀO\r\n\t\t\t\t\t\t\t\titemRemove.remove();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfailure: function(errMsg) {\r\n\t\t\t\t\t\t\talert(errMsg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('Không thể xóa');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t// ĐẾN TRANG THANH TOÁN\r\n\t\t\tgoToPayment: function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst url = $(this).attr('data-url');\r\n\t\t\t\tconst urlPagePaymen = $(this).attr('data-url-paymen');\r\n\t\t\t\tconst urlPageCart = $(this).attr('data-url-page-cart');\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: url,\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tcontentType: \"application/json; charset=utf-8\",\r\n\t\t\t\t\tcache: false,\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.Code == 200) {\r\n\t\t\t\t\t\t\t// Redirect to get-payment-info page\r\n\t\t\t\t\t\t\twindow.location.href = urlPagePaymen;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif ($(\".account-item\").length > 0) {\r\n\t\t\t\t\t\t\t\twindow.location.href = urlPageCart;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\talert(res.Message);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfailure: function(errMsg) {\r\n\t\t\t\t\t\talert(errMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\t// CẬP NHẬT GIỎ HÀNG\r\n\t\t\tupdateToCart: function(productId, propertyId, quantity, urlUpdate) {\r\n\t\t\t\t// Check product's Id and quantity is number\r\n\t\t\t\tif (productId != '' && $.isNumeric(productId) &&\r\n\t\t\t\t\tquantity != '' && $.isNumeric(quantity) &&\r\n\t\t\t\t\tpropertyId != '' && $.isNumeric(propertyId)) {\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\turl: urlUpdate,\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\tcontentType: \"application/json; charset=utf-8\",\r\n\t\t\t\t\t\tdata: JSON.stringify({\r\n\t\t\t\t\t\t\tpId: productId,\r\n\t\t\t\t\t\t\tpropertyId: propertyId,\r\n\t\t\t\t\t\t\tquantity: quantity\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tcache: false,\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tconst headerCartNumber = ('#header-cart-number');\r\n\t\t\t\t\t\t\tconst headerQuantityProduct = $(\"#header-quantity-product\");\r\n\t\t\t\t\t\t\tconst headerActualAmountTotal = $('#header-actual_amount_total');\r\n\t\t\t\t\t\t\tif (res.Code == 200) {\r\n\t\t\t\t\t\t\t\t// CẬP NHẬT GIỎ HÀNG TẠI THANH MENU\r\n\t\t\t\t\t\t\t\theaderCartNumber.text(res.Result.ItemsCount);\r\n\t\t\t\t\t\t\t\theaderQuantityProduct.text(res.Result.ItemsCount + \" \");\r\n\t\t\t\t\t\t\t\theaderActualAmountTotal.html(response.Result.AfterDiscount + \" đ\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tconsole.log('Giỏ hàng không được thay đổi');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfailure: function(errMsg) {\r\n\t\t\t\t\t\t\talert(errMsg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t\t// PHẦN THANH TOÁN (CHƯA LÀM ĐẾN)\r\n\t\t\tgetCity: function() {\r\n\t\t\t\tvar id = ($.isNumeric($(this).attr(\"data-city\")) ? Number($(this).attr(\"data-city\")) : 0);\r\n\t\t\t\t// Init district id\r\n\t\t\t\t$(\"#ShippingCitySelectedValue\").attr(\"data-district\", ($.isNumeric($(this).attr(\"data-district\")) ? Number($(this).attr(\"data-district\")) : 0));\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: '/get-payment-city',\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcontenttype: \"application/json; charset=utf-8\",\r\n\t\t\t\t\tcache: false,\r\n\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t$('#ShippingCitySelectedValue').attr(\"disabled\", true);\r\n\t\t\t\t\t\t$('#ShippingCitySelectedValue').html('<option>Đang tải...</option>')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(response) {\r\n\t\t\t\t\t\t$('#ShippingCitySelectedValue').attr(\"disabled\", false);\r\n\t\t\t\t\t\t$('#ShippingCitySelectedValue').children().remove();\r\n\t\t\t\t\t\t$(\"#ShippingCitySelectedValue\").append($('<option></option>').val('').html('Chọn Tỉnh/Thành phố').attr('selected', true));\r\n\t\t\t\t\t\t$.each(response, function(i, item) {\r\n\t\t\t\t\t\t\t$(\"#ShippingCitySelectedValue\").append($('<option></option>').val(item.Value).html(item.Text).attr('selected', item.Selected));\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t$(\"#ShippingCitySelectedValue\").trigger(\"change\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfailure: function(errmsg) {\r\n\t\t\t\t\t\talert(errmsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tgetDistrict: function() {\r\n\t\t\t\tvar id = ($.isNumeric($(this).attr(\"data-district\")) ? Number($(this).attr(\"data-district\")) : 0);\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: '/get-payment-district',\r\n\t\t\t\t\ttype: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcityId: Number($(this).val()),\r\n\t\t\t\t\t\tid: id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcontenttype: \"application/json; charset=utf-8\",\r\n\t\t\t\t\tcache: false,\r\n\t\t\t\t\tbeforeSend: function() {\r\n\t\t\t\t\t\t$('#ShippingDistrictSelectedValue').attr(\"disabled\", true);\r\n\t\t\t\t\t\t$('#ShippingDistrictSelectedValue').html('<option>Đang tải...</option>')\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(response) {\r\n\t\t\t\t\t\t$('#ShippingDistrictSelectedValue').attr(\"disabled\", false);\r\n\t\t\t\t\t\t$('#ShippingDistrictSelectedValue').children().remove();\r\n\t\t\t\t\t\t$(\"#ShippingDistrictSelectedValue\").append($('<option></option>').val('').html('Chọn Quận/Huyện').attr('selected', true));\r\n\t\t\t\t\t\t$.each(response, function(i, item) {\r\n\t\t\t\t\t\t\t$(\"#ShippingDistrictSelectedValue\").append($('<option></option>').val(item.Value).html(item.Text).attr('selected', item.Selected));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfailure: function(errmsg) {\r\n\t\t\t\t\t\talert(errmsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\tdelayClick: function() {\r\n\t\t\t\t$(\".quantity-input .plus\").prop(\"disabled\", \"\");\r\n\t\t\t\t$(\".quantity-input .minus\").prop(\"disabled\", \"\");\r\n\t\t\t\tCartController.model.isDelay == false;\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\r\n\t$(document).ready(function() {\r\n\t\tCartController.init();\r\n\t});\r\n};","module.exports = (() => {\r\n\tconst setCookie = (name, value, days) => {\r\n\t\tlet expires = \"\";\r\n\t\tif (days) {\r\n\t\t\tlet date = new Date();\r\n\t\t\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n\t\t\texpires = \"; expires=\" + date.toUTCString();\r\n\t\t}\r\n\t\tdocument.cookie = name + \"=\" + (value || \"\") + expires + \"; path=/\";\r\n\t}\r\n\r\n\tconst getCookie = (name) => {\r\n\t\tlet nameEQ = name + \"=\";\r\n\t\tlet ca = document.cookie.split(';');\r\n\t\tfor (let i = 0; i < ca.length; i++) {\r\n\t\t\tlet c = ca[i];\r\n\t\t\twhile (c.charAt(0) == ' ') c = c.substring(1, c.length);\r\n\t\t\tif (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst eraseCookie = (name) => {\r\n\t\tdocument.cookie = name + '=; Max-Age=-99999999;';\r\n\t}\r\n\r\n\r\n\tconst getInfoFromUrl = () => {\r\n\t\tlet urlString = window.location.href;\r\n\t\tlet url = new URL(urlString);\r\n\r\n\t\tlet Source = url.searchParams.get('utm_source');\r\n\t\tlet Medium = url.searchParams.get('utm_medium');\r\n\t\tlet Campaign = url.searchParams.get('utm_campaign');\r\n\t\tlet Term = url.searchParams.get('utm_term');\r\n\t\tlet UTMContent = url.searchParams.get('tm_content');\r\n\t\tlet fbclid = url.searchParams.get('fbclid');\r\n\t\tlet gclid = url.searchParams.get('gclid');\r\n\t\tlet Social, SocialId;\r\n\r\n\t\tif (fbclid) {\r\n\t\t\tSocial = 'fbclid';\r\n\t\t\tSocialId = fbclid;\r\n\t\t} else if (gclid) {\r\n\t\t\tSocial = 'gclid';\r\n\t\t\tSocialId = gclid;\r\n\t\t} else {\r\n\t\t\tSocial = null\r\n\t\t\tSocialId = null;\r\n\t\t}\r\n\t\tif (Source || Medium || Campaign || Term || UTMContent || fbclid || gclid || Social || SocialId) {\r\n\t\t\treturn {\r\n\t\t\t\tSource: Source,\r\n\t\t\t\tMedium: Medium,\r\n\t\t\t\tCampaign: Campaign,\r\n\t\t\t\tTerm: Term,\r\n\t\t\t\tUTMContent: UTMContent,\r\n\t\t\t\tSocial: Social,\r\n\t\t\t\tSocialId: SocialId\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tconst convertInformationToB64 = (param) => {\r\n\t\treturn window.btoa(JSON.stringify(param));\r\n\t}\r\n\r\n\r\n\tif (!getCookie('utm') && getInfoFromUrl()) {\r\n\t\tsetCookie('utm', convertInformationToB64(getInfoFromUrl()), 1);\r\n\t}\r\n})()","module.exports = () => {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tlet loading = document.getElementById('loading');\r\n\t\tlet progress = document.getElementById('progress');\r\n\t\tlet progressStat = document.getElementById('progstat');\r\n\t\tlet images = document.images;\r\n\t\tlet imagesLength = images.length;\r\n\t\tlet counter = 0;\r\n\r\n\t\tconst turnOffLoadingScreen = () => {\r\n\t\t\tloading.style.opacity = '0';\r\n\t\t\t// loading.style.pointerEvents = 'none';\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tloading.style.display = 'none';\r\n\t\t\t\tloading.parentNode.removeChild(loading);\r\n\t\t\t\tdocument.querySelector('body').classList.add('show-page');\r\n\t\t\t\tresolve();\r\n\t\t\t}, 1000)\r\n\t\t};\r\n\r\n\t\tconst progressing = () => {\r\n\t\t\tlet n = Math.round(100 / imagesLength * (counter += 1));\r\n\t\t\tif (progress.style.width = `${n}`, progressStat.innerHTML = `${n}`, counter === imagesLength) {\r\n\t\t\t\treturn turnOffLoadingScreen();\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tif (loading) {\r\n\t\t\tif (imagesLength === 0) {\r\n\t\t\t\treturn turnOffLoadingScreen();\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = 0; i < imagesLength; i++) {\r\n\t\t\t\t\tlet img = new Image;\r\n\t\t\t\t\timg.onload = progressing;\r\n\t\t\t\t\timg.onerror = progressing;\r\n\t\t\t\t\timg.src = images[i].src\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n};","module.exports = class Tab {\r\n\toptions = {};\r\n\r\n\tconstructor(selector, obj) {\r\n\t\tthis.selector = document.querySelector(selector);\r\n\t\tif (this.selector) {\r\n\t\t\tthis.navigationItems = Array.from(this.selector.querySelectorAll(\"[toggle-for]\"));\r\n\t\t\tthis.contentList = Array.from(this.selector.querySelectorAll(\"[tab-id]\"));\r\n\t\t\t// this.navigationList = this.selector.querySelector(obj.navigationList);\r\n\t\t\t// this.breakpoint = obj.responsive.breakpoint;\r\n\t\t\t// this.isResponsive = obj.responsive.isResponsive;\r\n\t\t\tthis.init();\r\n\t\t}\r\n\t}\r\n\r\n\tchangeTabWhenClicked() {\r\n\t\tthis.navigationItems.forEach((element, index) => {\r\n\t\t\telement.addEventListener(\"click\", e => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconst tabTarget = element.attributes[\"toggle-for\"].value;\r\n\t\t\t\tconst targetDOM = Array.from(this.selector.querySelectorAll(`[tab-id='${tabTarget}']`));\r\n\t\t\t\tthis.navigationItems.forEach((eleClicked, eleClickedIndex) => {\r\n\t\t\t\t\tif (eleClickedIndex != index) {\r\n\t\t\t\t\t\teleClicked.classList.remove(\"active\")\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tthis.contentList.forEach(tabContentElement => {\r\n\t\t\t\t\tif (tabContentElement.attributes[\"tab-id\"].value != tabTarget) {\r\n\t\t\t\t\t\ttabContentElement.style.display = \"none\"\r\n\t\t\t\t\t\ttabContentElement.classList.remove(\"show\")\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\telement.classList.add(\"active\");\r\n\t\t\t\ttargetDOM.forEach(item => {\r\n\t\t\t\t\titem.style.display = \"block\";\r\n\t\t\t\t})\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\ttargetDOM.forEach(item => {\r\n\t\t\t\t\t\titem.classList.add(\"show\");\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 50);\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\tactiveFirstTab() {\r\n\t\ttry {\r\n\t\t\tthis.navigationItems[0].click();\r\n\t\t} catch (error) {\r\n\t\t\tthrow error\r\n\t\t}\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.changeTabWhenClicked();\r\n\t\tthis.activeFirstTab();\r\n\t}\r\n}","import Cookie from \"./lib/Cookie\";\r\nimport Loading from \"./lib/Loading\";\r\nimport Tab from \"./lib/Tab\";\r\nimport CartController from \"./lib/CartController\";\r\n\r\n// HÀM SET CHIỀU CAO CỦA BORDER !!!\r\nconst transitionTime = 300;\r\nconst header = document.querySelector('header');\r\nconst transitionEffect = `${transitionTime/1000}s all ease-in-out`;\r\nheader.style.transition = transitionEffect;\r\n$('.block-logo .triangle').css('transition', transitionEffect);\r\n\r\nconst setBorder = () => {\r\n\tsetTimeout(() => {\r\n\t\tconst width = $('header .block-logo').width();\r\n\t\tconst height = $('header .block-logo').height();\r\n\t\tif ($('header').hasClass('scrolled')) {\r\n\t\t\t$('.triangle').css({\r\n\t\t\t\t'left': '-100%',\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t$('.triangle').css({\r\n\t\t\t\t'left': '0',\r\n\t\t\t\t'border-right': width + \"px solid transparent\",\r\n\t\t\t\t'border-top': height + \"px solid #ffffff\",\r\n\t\t\t})\r\n\t\t}\r\n\t}, transitionTime);\r\n}\r\n\r\n// HÀM SET PADDING CHO NAV LIST ĐỂ BLOCK CART RỚT XUỐNG !!!\r\nconst paddingRightNavList = () => {\r\n\tconst widthBlockCart = $('.block-cart').outerWidth();\r\n\tconst navList = $('header .bottom-header .nav-list');\r\n\tif ($('header').hasClass('scrolled')) {\r\n\t\tnavList.css('padding-right', widthBlockCart + 59)\r\n\t} else {\r\n\t\tnavList.css('padding-right', 'unset')\r\n\t}\r\n}\r\n\r\n// HÀM ADD CLASS\r\nconst addClassScroll = () => {\r\n\tconst heightHeader = header.offsetHeight;\r\n\tif (window.pageYOffset >= heightHeader) {\r\n\t\tdocument.querySelector('header').classList.add('scrolled');\r\n\t} else {\r\n\t\tdocument.querySelector('header').classList.remove('scrolled');\r\n\t}\r\n}\r\n\r\n// HEADER HERE !!!\r\nconst activeHeaderWhenScroll = () => {\r\n\tif ($(window).width() >= 1025) {\r\n\t\tsetBorder();\r\n\t\tpaddingRightNavList();\r\n\t\taddClassScroll();\r\n\t}\r\n}\r\n\r\nconst toggleMenuMobile = () => {\r\n\t$('.toggle-menu.mobile').on('click', function() {\r\n\t\t$(this).toggleClass('active');\r\n\t\t$('.bottom-header').toggleClass('active');\r\n\t\t$('body').toggleClass('disabled')\r\n\t\t$('#overlay').toggleClass('active');\r\n\t});\r\n\r\n\t$('#overlay').on('click', function() {\r\n\t\t$(this).removeClass('active');\r\n\t\t$('body').removeClass('disabled')\r\n\t\t$('.bottom-header').removeClass('active');\r\n\t\t$('.toggle-menu').removeClass('active');\r\n\t})\r\n}\r\n\r\nconst toggleCartMenu = () => {\r\n\t$('header .block-cart .block-text-icon').on('click', function() {\r\n\t\t$(this).siblings('.cart-panel').toggleClass('open');\r\n\t});\r\n}\r\n\r\nconst checkPageToAddClassMainSlider = () => {\r\n\tif (!$('main').find('#js-page-verify').hasClass('index-page')) {\r\n\t\t$('.main-banner').addClass('small-banner');\r\n\t}\r\n}\r\n\r\n// SLIDER HERE !!!\r\nconst mainSlider = () => {\r\n\tvar swiper = new Swiper('.slider-main-banner .swiper-container', {\r\n\t\tloop: true,\r\n\t\tspeed: 1000,\r\n\t\tautoplay: {\r\n\t\t\tdelay: 3000,\r\n\t\t\tdisableOnInteraction: false,\r\n\t\t},\r\n\t\tgrabCursor: true,\r\n\t\twatchSlidesProgress: true,\r\n\t\tmousewheelControl: true,\r\n\t\tkeyboardControl: true,\r\n\t\tpagination: {\r\n\t\t\tel: '.slider-main-banner .swiper-pagination',\r\n\t\t\ttype: 'bullets',\r\n\t\t\tclickable: true,\r\n\t\t},\r\n\t\ton: {\r\n\t\t\tprogress: function() {\r\n\t\t\t\tvar swiper = this;\r\n\t\t\t\tfor (var i = 0; i < swiper.slides.length; i++) {\r\n\t\t\t\t\tvar slideProgress = swiper.slides[i].progress;\r\n\t\t\t\t\tvar innerOffset = swiper.width * 0.5;\r\n\t\t\t\t\tvar innerTranslate = slideProgress * innerOffset;\r\n\t\t\t\t\tswiper.slides[i].querySelector(\".swiper-inner\").style.transform =\r\n\t\t\t\t\t\t\"translate3d(\" + innerTranslate + \"px, 0, 0)\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttouchStart: function() {\r\n\t\t\t\tvar swiper = this;\r\n\t\t\t\tfor (var i = 0; i < swiper.slides.length; i++) {\r\n\t\t\t\t\tswiper.slides[i].style.transition = \"\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsetTransition: function(speed) {\r\n\t\t\t\tvar swiper = this;\r\n\t\t\t\tfor (var i = 0; i < swiper.slides.length; i++) {\r\n\t\t\t\t\tswiper.slides[i].style.transition = speed + \"ms\";\r\n\t\t\t\t\tswiper.slides[i].querySelector(\".swiper-inner\").style.transition =\r\n\t\t\t\t\t\tspeed + \"ms\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst productDetailSlider = () => {\r\n\tvar thumbnail = new Swiper('.slider-product-detail .thumbnail-image .swiper-container', {\r\n\t\tspaceBetween: 35,\r\n\t\tslidesPerView: 2,\r\n\t\tloop: true,\r\n\t\tobserver: true,\r\n\t\tobserveParents: true,\r\n\t\tslideToClickedSlide: true,\r\n\t\tautoplay: {\r\n\t\t\tdelay: 3000,\r\n\t\t\tdisableOnInteraction: false,\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tnextEl: '.thumbnail-image .swiper-button-next',\r\n\t\t\tprevEl: '.thumbnail-image .swiper-button-prev',\r\n\t\t},\r\n\t\tbreakpoints: {\r\n\t\t\t1024: {\r\n\t\t\t\tslidesPerView: 3,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t},\r\n\t\t\t1200: {\r\n\t\t\t\tslidesPerView: 5,\r\n\t\t\t\tspaceBetween: 16,\r\n\t\t\t}\r\n\t\t},\r\n\t});\r\n\r\n\tvar review = new Swiper('.slider-product-detail .review-image .swiper-container', {\r\n\t\teffect: 'fade',\r\n\t\tfadeEffect: {\r\n\t\t\tcrossFade: true,\r\n\t\t},\r\n\t\tautoplay: {\r\n\t\t\tdelay: 3000,\r\n\t\t\tdisableOnInteraction: false,\r\n\t\t},\r\n\t\tloop: true,\r\n\t\tsimulateTouch: false,\r\n\t\tloopedSlides: 3,\r\n\t\tthumbs: {\r\n\t\t\tswiper: thumbnail,\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tnextEl: '.thumbnail-image.swiper-button-next',\r\n\t\t\tprevEl: '.thumbnail-image.swiper-button-prev',\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst productOtherSlider = () => {\r\n\tvar swiper = new Swiper('.slider-products-other .swiper-container', {\r\n\t\tslidesPerView: 2,\r\n\t\tspaceBetween: 10,\r\n\t\tloop: true,\r\n\t\tspeed: 500,\r\n\t\tsimulateTouch: false,\r\n\t\tautoplay: {\r\n\t\t\tdelay: 2000,\r\n\t\t\tdisableOnInteraction: false,\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tnextEl: '.slider-products-other .swiper-button-next',\r\n\t\t\tprevEl: '.slider-products-other .swiper-button-prev',\r\n\t\t},\r\n\t\tbreakpoints: {\r\n\t\t\t768: {\r\n\t\t\t\tslidesPerView: 4,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t},\r\n\t\t\t1024: {\r\n\t\t\t\tslidesPerView: 4,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t},\r\n\t\t\t1200: {\r\n\t\t\t\tslidesPerView: 5,\r\n\t\t\t\tspaceBetween: 16,\r\n\t\t\t}\r\n\t\t},\r\n\t})\r\n}\r\n\r\n// SLIDER NHÀ PHÂN PHỐI !!!\r\nconst distributorSlider = () => {\r\n\tvar swiper = new Swiper('.slider-distributor .swiper-container', {\r\n\t\tslidesPerView: 2,\r\n\t\tspaceBetween: 10,\r\n\t\tloop: true,\r\n\t\tspeed: 500,\r\n\t\tsimulateTouch: false,\r\n\t\tautoplay: {\r\n\t\t\tdelay: 2000,\r\n\t\t\tdisableOnInteraction: false,\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tnextEl: '.slider-distributor .swiper-button-next',\r\n\t\t\tprevEl: '.slider-distributor .swiper-button-prev',\r\n\t\t},\r\n\t\tbreakpoints: {\r\n\t\t\t768: {\r\n\t\t\t\tslidesPerView: 4,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t},\r\n\t\t\t1024: {\r\n\t\t\t\tslidesPerView: 4,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t},\r\n\t\t\t1200: {\r\n\t\t\t\tslidesPerView: 6,\r\n\t\t\t\tspaceBetween: 29,\r\n\t\t\t}\r\n\t\t},\r\n\t})\r\n}\r\n\r\n// SLIDER KHÁCH HÀNG !!!\r\nconst customerSlider = () => {\r\n\tvar swiper = new Swiper('.slider-customer .swiper-container', {\r\n\t\tslidesPerView: 1,\r\n\t\tspaceBetween: 0,\r\n\t\tloop: true,\r\n\t\tspeed: 500,\r\n\t\tsimulateTouch: false,\r\n\t\tautoplay: {\r\n\t\t\tdelay: 2000,\r\n\t\t\tdisableOnInteraction: false,\r\n\t\t},\r\n\t\tnavigation: {\r\n\t\t\tnextEl: '.slider-customer .swiper-button-next',\r\n\t\t\tprevEl: '.slider-customer .swiper-button-prev',\r\n\t\t},\r\n\t\tbreakpoints: {\r\n\t\t\t575: {\r\n\t\t\t\tslidesPerView: 2,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t},\r\n\t\t\t900: {\r\n\t\t\t\tslidesPerView: 3,\r\n\t\t\t\tspaceBetween: 10,\r\n\t\t\t},\r\n\t\t\t1440: {\r\n\t\t\t\tslidesPerView: 5,\r\n\t\t\t\tspaceBetween: 16,\r\n\t\t\t}\r\n\t\t},\r\n\t})\r\n}\r\n\r\nconst setHeightOverFolowBySomeElement = (selector) => {\r\n\t$(selector).each(function() {\r\n\t\tconst heightGet = $(this).find('[data-getHeight]').innerHeight();\r\n\t\tconst heightSet = $(this).find('[data-setHeight]');\r\n\t\tconst responsive = heightSet.attr('data-setHeight');\r\n\t\tif (window.innerWidth > responsive) {\r\n\t\t\theightSet.css('max-height', heightGet)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nconst rangeSliderPrice = () => {\r\n\tlet min_price = Number($(\"#slider-range\").attr('data-min'));\r\n\tlet max_price = Number($(\"#slider-range\").attr('data-max'));\r\n\tconst pathname = window.location.pathname;\r\n\tconst origin = window.location.origin;\r\n\tconst url = origin + pathname;\r\n\r\n\tconst getBrand = e => {\r\n\t\tlet brand;\r\n\t\t$('.brand .check-box [name=\"brand\"]').each(function() {\r\n\t\t\tif ($(this)[0].checked) {\r\n\t\t\t\tbrand = $(this)[0].value;\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn brand;\r\n\t}\r\n\r\n\tconst getUrl = (min, max) => {\r\n\t\tlet fromParam = `fromPrice=${min}`;\r\n\t\tlet toParam = `toPrice=${max}`;\r\n\t\tlet brandParam;\r\n\t\tif (getBrand().length > 0) {\r\n\t\t\tbrandParam = `brands=${getBrand()}`\r\n\t\t\treturn `${url}?${fromParam}&${toParam}&${brandParam}`\r\n\t\t} else {\r\n\t\t\tbrandParam = null;\r\n\t\t\treturn `${url}?${fromParam}&${toParam}`\r\n\t\t}\r\n\t}\r\n\r\n\tconst ajaxFilterProduct = (url) => {\r\n\t\t$.ajax({\r\n\t\t\ttype: \"GET\",\r\n\t\t\turl: url,\r\n\t\t\tbeforeSend: function() {\r\n\t\t\t\t$('.list-product .list-item').css({\r\n\t\t\t\t\t'opacity': '.2',\r\n\t\t\t\t\t'pointer-events': 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\tconst listProduct = $(res).find('.list-product .list-item');\r\n\t\t\t\tconst pagination = $(res).find('.block-list-product .pagination')\r\n\t\t\t\t$('.list-product .list-item').html(listProduct.html());\r\n\t\t\t\t$('.block-list-product .pagination').html(pagination.html());\r\n\t\t\t},\r\n\t\t\tcomplete: function() {\r\n\t\t\t\t$('.list-product .list-item').css({\r\n\t\t\t\t\t'opacity': '1',\r\n\t\t\t\t\t'pointer-events': 'initial'\r\n\t\t\t\t})\r\n\t\t\t\twindow.history.pushState({}, '', url);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t$('.brand .check-box [name=\"brand\"]').on('change', () => {\r\n\t\tlet minFinal = Number($(\"#value-text\").attr('data-min-html'))\r\n\t\tlet maxFinal = Number($(\"#value-text\").attr('data-max-html'))\r\n\t\tconst urlRequest = getUrl(minFinal, maxFinal);\r\n\t\tajaxFilterProduct(urlRequest);\r\n\t})\r\n\r\n\tif (min_price !== max_price) {\r\n\t\tlet curMinPrice = Number($(\"#slider-range\").attr('data-current-min'))\r\n\t\tlet curMaxPrice = Number($(\"#slider-range\").attr('data-current-max'))\r\n\t\t$(\"#value-text\").attr('data-min-html', curMinPrice);\r\n\t\t$(\"#value-text\").attr('data-max-html', curMaxPrice);\r\n\t\t$(\"#slider-range\").slider({\r\n\t\t\trange: true,\r\n\t\t\tmin: min_price,\r\n\t\t\tmax: max_price,\r\n\t\t\tvalues: [curMinPrice, curMaxPrice],\r\n\t\t\tslide: function(event, ui) {\r\n\t\t\t\t$(\"#amount\").val(ui.values[0] + \" - \" + ui.values[1]);\r\n\t\t\t\t$(\"#value-text\").html(ui.values[0] + \" đ - \" + ui.values[1] + \" đ\");\r\n\t\t\t\t$(\"#value-text\").attr('data-min-html', ui.values[0]);\r\n\t\t\t\t$(\"#value-text\").attr('data-max-html', ui.values[1]);\r\n\t\t\t},\r\n\t\t\tstop: function(event, ui) {\r\n\t\t\t\tconst minFinal = $(\"#amount\").val(ui.values[0]).val();\r\n\t\t\t\tconst maxFinal = $(\"#amount\").val(ui.values[1]).val();\r\n\t\t\t\tconst urlRequest = getUrl(minFinal, maxFinal);\r\n\t\t\t\tajaxFilterProduct(urlRequest);\r\n\t\t\t},\r\n\t\t\tcreate: function(event, ui) {\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\t$(\"#amount\").val($(\"#slider-range\").slider(\"values\", 0) + \" - \" + $(\"#slider-range\").slider(\"values\", 1));\r\n\t\t$(\"#value-text\").html($(\"#slider-range\").slider(\"values\", 0) + \"đ - \" + $(\"#slider-range\").slider(\"values\", 1) + \"đ\");\r\n\t} else {\r\n\t\t$('.block-filter .price').remove();\r\n\t}\r\n}\r\n\r\nconst filterMobile = () => {\r\n\t$('.nav-filter .item').on('click', function() {\r\n\t\tconst toggleView = $(this).attr('toggle-view');\r\n\t\t$('.aside-filter .block-filter').each(function() {\r\n\t\t\tconst toggleId = $(this).attr('toggle-id');\r\n\t\t\tif (toggleView == toggleId) {\r\n\t\t\t\t$(this).slideToggle();\r\n\t\t\t\t$('.aside-filter .block-filter').not(this).slideUp();\r\n\t\t\t\t// $('#overlay').toggleClass('active');\r\n\t\t\t\t// $('body').toggleClass('disabled');\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('Không tồn tại toggleView');\r\n\t\t\t}\r\n\t\t})\r\n\t});\r\n\r\n\t$('#overlay').on('click', function() {\r\n\t\t$(this).removeClass('active');\r\n\t\t$('body').removeClass('disabled');\r\n\t\t$('.aside-filter .block-filter').slideUp();\r\n\t});\r\n}\r\n\r\nconst ajaxFormContact = () => {\r\n\t$('.block-form-contact .block-form button').on('click', function(e) {\r\n\t\te.preventDefault();\r\n\t\tconst url = $(this).attr('data-url');\r\n\t\tconst name = $('#name').val();\r\n\t\tconst phone = $('#phone').val();\r\n\t\tconst email = $('#email').val();\r\n\t\tconst content = $('#content').val();\r\n\t\tif ($(\".block-send-mail form\").valid() == true) {\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: \"POST\",\r\n\t\t\t\turl: url,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tphone: phone,\r\n\t\t\t\t\temail: email,\r\n\t\t\t\t\tcontent: content\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tif (res.Code === 200) {\r\n\t\t\t\t\t\talert(res.Message);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(res.Message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log('Không được request lên url vì valid');\r\n\t\t}\r\n\t});\r\n}\r\n\r\nconst ajaxOrderProduct = () => {\r\n\t$('.popup-checkout .form-button button').on('click', function(e) {\r\n\t\te.preventDefault();\r\n\t\tconst fullname = $('#fullname').val();\r\n\t\tconst phone = $('#phone').val();\r\n\t\tconst province = $('#province').val();\r\n\t\tconst district = $('#district').val();\r\n\t\tconst ward = $('#ward').val();\r\n\t\tconst address = $('#address').val();\r\n\t\tconst defaultAddress = $('#default-address').val();\r\n\t\tconst url = $(this).attr('data-url');\r\n\t\tif ($(\".popup-checkout form\").valid() === true) {\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: \"POST\",\r\n\t\t\t\turl: url,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tfullname: fullname,\r\n\t\t\t\t\tphone: phone,\r\n\t\t\t\t\tprovince: province,\r\n\t\t\t\t\tdistrict: district,\r\n\t\t\t\t\tward: ward,\r\n\t\t\t\t\taddress: address,\r\n\t\t\t\t\tdefaultAddress: defaultAddress\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tif (res.Code === 200) {\r\n\t\t\t\t\t\t$.fancybox.open({\r\n\t\t\t\t\t\t\tsrc: '#popup-checkout-complete',\r\n\t\t\t\t\t\t\ttype: 'inline',\r\n\t\t\t\t\t\t\topts: {\r\n\t\t\t\t\t\t\t\thash: false,\r\n\t\t\t\t\t\t\t\tcloseExisting: true,\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\talert(res.Message)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconsole.log('Không được request lên url vì valid');\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// CHECK LAYOUT CÓ BANNER KHÔNG\r\nconst checkLayoutBanner = () => {\r\n\tconst mainSlider = $('.home-banner');\r\n\tconst normalSLider = $('.main-banner');\r\n\tconst heightHeader = $('header').outerHeight();\r\n\tif ($(window).width() < 1025 && mainSlider.length >= 1 && mainSlider.css('display') == 'block') {\r\n\t\tmainSlider.css('padding-top', heightHeader);\r\n\t} else if ($(window).width() < 1025 && normalSLider.length >= 1 && normalSLider.css('display') == 'block') {\r\n\t\tnormalSLider.css('padding-top', heightHeader);\r\n\t} else {}\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\t// LOADING !!!\r\n\tLoading().then(() => {\r\n\t\tnew WOW().init();\r\n\t\t// GET HEIGHT SOMWE ELEMENT\r\n\t\tsetHeightOverFolowBySomeElement('.about-1,.about-3,.product-detail-1');\r\n\t\tactiveHeaderWhenScroll();\r\n\t});\r\n\tcheckLayoutBanner();\r\n\ttoggleMenuMobile();\r\n\ttoggleCartMenu();\r\n\t// SLIDER HERE !!!\r\n\tmainSlider();\r\n\tproductDetailSlider();\r\n\tproductOtherSlider();\r\n\t// SLIDER NHÀ PHÂN PHỐI !!!\r\n\tdistributorSlider();\r\n\t// SLIDER KHÁCH HÀNG !!!\r\n\tcustomerSlider();\r\n\t// FILTER GIÁ\r\n\trangeSliderPrice();\r\n\tfilterMobile();\r\n\t//AJAX\r\n\tajaxFormContact();\r\n\tajaxOrderProduct();\r\n\t// TAB\r\n\tconst tabPolicy = new Tab('.block-policy');\r\n\tconst tabProductDetail = new Tab('.product-detail-2');\r\n\tCartController();\r\n\tcheckPageToAddClassMainSlider();\r\n});\r\n\r\nwindow.addEventListener('scroll', () => {\r\n\tactiveHeaderWhenScroll();\r\n})\r\n\r\ndocument.addEventListener('resize', () => {\r\n\t// TAM GIÁC LOGO HEADER !!!\r\n\tactiveHeaderWhenScroll();\r\n\tsetHeightOverFolowBySomeElement('.about-1,.about-3,.product-detail-1');\r\n})"]}