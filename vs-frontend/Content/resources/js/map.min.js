"use strict";var map,lastItemClickedIndex,locations,infoWindow,mapSelector=document.querySelector("#map"),dealerLocatorList=document.querySelector(".dealer-locator-list .list"),markers=[],mapOption={zoom:12},addMarkers=function(){markers=[];var a=new google.maps.LatLngBounds;locations.forEach(function(t,o){var e=new google.maps.LatLng(t.lat,t.lng),n=new google.maps.Marker({map:map,title:t.title,position:e,icon:t.icon});a.extend(n.position),markers.push(n),showInfoMarkerOnMap(n,o)}),map.fitBounds(a)},showInfoMarkerOnMap=function(t,o){google.maps.event.addListener(t,"click",function(){infoWindow.setContent("\n\t\t\t\t<h3>".concat(locations[o].title,"</h3>\n\t\t\t\t<p>").concat(locations[o].address,"</p>\n\t\t\t\t<p>").concat(locations[o].phone,"</p>\n\t\t\t")),lastItemClickedIndex=o,infoWindow.open(map,t),map.panTo(t.getPosition()),map.setZoom(12)}),google.maps.event.addListener(map,"click",function(){infoWindow.close()})},getLocationList=function(){dealerLocatorList&&(dealerLocatorList.innerHTML="",markers.forEach(function(t,o){var e=document.createElement("div");e.classList.add("dealer-locator-item"),e.innerHTML="\n\t\t\t\t<h3>".concat(locations[o].title,"</h3>\n\t\t\t\t<p>").concat(locations[o].address,"</p>\n\t\t\t\t<p>").concat(locations[o].phone,"</p>\n\t\t\t"),e.setAttribute("marker-id","".concat(o)),e.addEventListener("click",function(){lastItemClickedIndex=o;var t=e.getAttribute("marker-id");google.maps.event.trigger(markers[t],"click")}),dealerLocatorList.appendChild(e)}))},initialize=function(){locations=locationsInput,infoWindow=new google.maps.InfoWindow,map=new google.maps.Map(mapSelector,mapOption),addMarkers();var t=google.maps.event.addListener(map,"idle",function(){12<map.getZoom()&&map.setZoom(12),google.maps.event.removeListener(t)});google.maps.event.addListener(map,"bounds_changed",getLocationList)};mapSelector&&(google.maps.event.addDomListener(window,"load",initialize),dealerLocatorList&&getLocationList());
//# sourceMappingURL=map.min.js.map
